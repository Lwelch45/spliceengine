-- -----------------------------------------------------------------------
--  SCHEMA AUTH_JOE
-- -----------------------------------------------------------------------

CREATE SCHEMA AUTH_JOE AUTHORIZATION AUTH_JOE;

SET SCHEMA AUTH_JOE;

-- -----------------------------------------------------------------------
--  SCHEMA AUTH_FRED
-- -----------------------------------------------------------------------

CREATE SCHEMA AUTH_FRED AUTHORIZATION FRED;

SET SCHEMA AUTH_FRED;

-- -----------------------------------------------------------------------
-- TABLE AUTH_FRED.ONE_INT_TABLE
-- -----------------------------------------------------------------------

CREATE TABLE AUTH_FRED.ONE_INT_TABLE
(
    Z INTEGER
);

-- -----------------------------------------------------------------------
-- TABLE AUTH_FRED.TWO_INT_TABLE
-- -----------------------------------------------------------------------

CREATE TABLE AUTH_FRED.TWO_INT_TABLE
(
    X INTEGER,
    Y INTEGER
);

-- -----------------------------------------------------------------------
-- TABLE AUTH_FRED.TWO_INT_TABLE2
-- -----------------------------------------------------------------------

CREATE TABLE AUTH_FRED.TWO_INT_TABLE2
(
    C31 INTEGER,
    C32 INTEGER
);

-- -----------------------------------------------------------------------
-- VIEW AUTH_FRED.VIEW1
-- -----------------------------------------------------------------------

create view AUTH_FRED.VIEW1(v31, v32) as select c31, c32 from AUTH_FRED.TWO_INT_TABLE2;

-- -----------------------------------------------------------------------
--  USER Joe
-- -----------------------------------------------------------------------

CALL SYSCS_UTIL.SYSCS_CREATE_USER('"Joe"','');

-- -----------------------------------------------------------------------
--  USER FRED
-- -----------------------------------------------------------------------

CALL SYSCS_UTIL.SYSCS_CREATE_USER('"FRED"','');

-- -----------------------------------------------------------------------
--  ROLE ROLE1
-- -----------------------------------------------------------------------

CREATE ROLE ROLE1;

-- -----------------------------------------------------------------------
--  ROLE ROLE2
-- -----------------------------------------------------------------------

CREATE ROLE ROLE2;

GRANT ROLE1 TO ROLE2;

GRANT ROLE2 TO FRED, JOE;

GRANT ALL PRIVILEGES ON AUTH_FRED.TWO_INT_TABLE2 TO ROLE2;

GRANT DELETE, INSERT, SELECT ON AUTH_FRED.ONE_INT_TABLE TO ROLE1;

